# Yeah, just little functions I write. Mostly to practice writing bash scripts.
# I find them helpful. Maybe you will too!

# -------------------------------------
# pushes .zshrc to my Misc git repo
function zshrcgit() {
    cd "${HOME}/Documents/Projects/System/zsh"
    cp "${HOME}/.zshrc" .
    cp "${HOME}/.zsh_aliases" .
    cp "${HOME}/.zsh_functions" .
	cp "${HOME}/.vimrc" .
#	cp -R "${HOME}/opt" ..
	git add -A
    if [ -z "$1" ]; then
        git commit 
    else
        git commit -m "$1"
    fi
    git push
    cd "$OLDPWD"
}

# might break, copies command output to clipboard
function copy() {
	out=$($1)
	echo $out | pbcopy
}

# For monitoring BTT's stats usage
function bttmonitor() {
	n=$(top -l 1 | grep BetterTouch | cut -d' ' -f1 | awk '{print "-pid"} $0' | xargs)
	eval "top $n"
}

# Checks if CPU has ever been throttled
function throttleinfo() {
	gtimeout .01s pmset -g thermlog
}

# searches recursively in my zsh folder for the given string,
# useful for finding aliases
function zshsearch() {
	grep -r "$@" ~/.oh-my-zsh
}

# searches safari for the given string
# only works with .com, maybe make a more general check, i.e. one word and contains a .

function safari() {
		fin=$(echo $@ | rev | cut -c 1-4 | rev)
		if [[ $@ == *".com"* ]]; then
			echo "should be here"
			open -a Safari "https://www.${@}"
		else
			complete_query_string="https://www.google.com/search?q=" #format: https://www.google.com/search?q=something+to+search+on+Google
			partial_query_string=""
			for i in $@; do
				partial_query_string=$partial_query_string+$i
			done
			partial_query_string=${partial_query_string:1} #useful for delete the first "+" 
			complete_query_string=$complete_query_string$partial_query_string
			open -a Safari $complete_query_string
		fi
}

# more efficient procrastinating lol
# ---------------------------------
function reddit() {	open -a Safari "https://www.reddit.com" }

function facebook() { open -a Safari "https://www.facebook.com" }

function nyt() { open -a Safari "https://www.nytimes.com" }

function matlab() { open -a "Matlab" "$@" }

function slack() { open -a Slack } 

function discord() { open -a Discord }

function minecraft() { open -a Minecraft } 

function pref() { open -a "System Preferences" }
# ----------------------------------
# control brightness (TODO)
# brightness -l | grep brightness | rev | awk '{print $1;}' | rev <--- use to get just the current brightness-
