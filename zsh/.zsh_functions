# opening apps like `code` command
function matlab() {
    open -a "Matlab" "$@"
}

# pushes .zshrc to my Misc git repo
function zshrcgit() {
    cd "${HOME}/Documents/Projects/System/zsh"
    cp "${HOME}/.zshrc" .
    cp "${HOME}/.zsh_aliases" .
    cp "${HOME}/.zsh_functions" .
	cp "${HOME}/.vimrc" .
#	cp -R "${HOME}/opt" ..
	git add -A
    if [ -z "$1" ]; then
        git commit 
    else
        git commit -m "$1"
    fi
    git push
    cd "$OLDPWD"
}

#function zshrcdiff() {
#    cd "${HOME}/Documents/Projects/System/zsh"
#    git diff HEAD
#    cd "$OLDPWD"
#}

# Misc
# --------------------------

# might break, copies command output to clipboard
function copy() {
	out=$($1)
	echo $out | pbcopy
}

# For monitoring BTT's stats usage
function bttmonitor() {
	n=$(top -l 1 | grep BetterTouch | cut -d' ' -f1 | awk '{print "-pid"} $0' | xargs)
	eval "top $n"
}

# Checks if CPU has ever been throttled
function throttleinfo() {
	gtimeout .01s pmset -g thermlog
}

# searches recursively in my zsh folder for the given string,
# useful for finding aliases
function zshsearch() {
	grep -r "$@" ~/.oh-my-zsh
}

# searches safari for the given string
#  todo: Go directly to website if typed in correctly
function safari() {
		complete_query_string="https://www.google.com/search?q=" #format: https://www.google.com/search?q=something+to+search+on+Google
		partial_query_string=""
		for i in $@; do
			partial_query_string=$partial_query_string+$i
		done
		partial_query_string=${partial_query_string:1} #useful for delete the first "+" 
		complete_query_string=$complete_query_string$partial_query_string
		open -a Safari $complete_query_string
}

function reddit() {
	open -a Safari "https://www.reddit.com"
}
